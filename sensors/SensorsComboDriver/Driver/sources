# Copyright (c) Microsoft Corporation.  All rights reserved.

TARGETNAME = SensorsComboDriver
TARGETTYPE = DYNLINK
TARGET_DESTINATION = NTTEST\drivers\Sensors\V2

DLLDEF = SensorsComboDriver.def

MINIMUM_NT_TARGET_VERSION = $(_NT_TARGET_VERSION_WINV64)
DDK_TARGET_PLATFORM = Universal

USE_UNICRT = 1
USE_MSVCRT = 1

UMDF_VERSION_MAJOR = 2

C_DEFINES = $(C_DEFINES)\
          /D_UNICODE \
          /DUNICODE \
          /DWPP_MACRO_USE_KM_VERSION_FOR_UM \

MSC_WARNING_LEVEL = /W4 /WX

INCLUDES = $(INCLUDES); \
         $(SDK_INC_PATH); \
### Point to the public version of Windows.Devices.Sensors.h
         $(SDK_INC_PATH)\ABI; \
         $(DDK_INC_PATH)\sensors\1.1; \
         $(SDK_INC_PATH)\sensors\1.1; \

TARGETLIBS = $(TARGETLIBS) \
           $(ONECORE_SDK_LIB_VPATH)\onecoreuap.lib \
           $(SDK_LIB_PATH)\propsys.lib \
           $(MINCORE_SDK_LIB_VPATH)\api-ms-win-mm-time-l1.lib \
           $(SDK_LIB_PATH)\sensorsutils.lib \
           $(SDK_LIB_PATH)\sensors\$(SENSORS_VER_PATH)\sensorscxstub.lib \

SOURCES = \
    alsclient.cpp \
    barclient.cpp \
    clients.cpp \
    device.cpp \
    driver.cpp \
    geomagneticorientationclient.cpp \
    gravityvectorclient.cpp \
    gyrclient.cpp \
    linearaccelerometerclient.cpp \
    magclient.cpp \
    prxclient.cpp \
    relativefusionclient.cpp \

RUN_WPP = $(SOURCES) -dll \
        -p:SensorsComboDriver \
        -scan:sensorstrace.h

GENERIC_INFS = SensorsComboDriver.inx
